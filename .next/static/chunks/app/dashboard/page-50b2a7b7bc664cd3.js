(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{3209:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>n,Zp:()=>r,aR:()=>c});var t=a(5155),l=a(2115),i=a(5016);let r=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});r.displayName="Card";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...l})});c.displayName="CardHeader";let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})});n.displayName="CardTitle";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",a),...l})});o.displayName="CardContent",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter"},5016:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var t=a(2821),l=a(5889);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.QP)((0,t.$)(s))}},5946:(e,s,a)=>{Promise.resolve().then(a.bind(a,9981))},6170:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(5155),l=a(2115),i=a(5016);let r=l.forwardRef((e,s)=>{let{className:a,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});r.displayName="Input"},7001:(e,s,a)=>{"use strict";a.d(s,{T:()=>r});var t=a(5155),l=a(2115),i=a(5016);let r=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});r.displayName="Textarea"},7003:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var t=a(5155),l=a(2115),i=a(2467),r=a(3101),c=a(5016);let n=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,s)=>{let{className:a,variant:l,size:r,asChild:d=!1,...o}=e,m=d?i.DX:"button";return(0,t.jsx)(m,{className:(0,c.cn)(n({variant:l,size:r,className:a})),ref:s,...o})});d.displayName="Button"},7812:(e,s,a)=>{"use strict";a.d(s,{E:()=>c});var t=a(5155);a(2115);var l=a(3101),i=a(5016);let r=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:(0,i.cn)(r({variant:a}),s),...l})}},9981:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>_});var t=a(5155),l=a(2115),i=a(3209),r=a(7003),c=a(9511),n=a(5229),d=a(5016);let o=c.bL;c.l9;let m=c.ZL;c.bm;let x=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(c.hJ,{ref:s,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});x.displayName=c.hJ.displayName;let h=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(m,{children:[(0,t.jsx)(x,{}),(0,t.jsxs)(c.UC,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[l,(0,t.jsxs)(c.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=c.UC.displayName;let p=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};p.displayName="DialogHeader";let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};u.displayName="DialogFooter";let g=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(c.hE,{ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});g.displayName=c.hE.displayName;let j=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(c.VY,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",a),...l})});j.displayName=c.VY.displayName;var f=a(6170),v=a(7001),N=a(7812),y=a(1786),b=a(6191),w=a(7125);let k=e=>{let{isOpen:s,onClose:a,onPackageCreated:c}=e,[d,m]=(0,l.useState)({title:"",subtitle:"",about:"",tourDetails:"",price:"",duration:"",location:"",capacity:""}),[x,k]=(0,l.useState)([{id:"1",day:1,title:"",description:""}]),[C,A]=(0,l.useState)([{id:"1",type:"",vehicle:"",description:""}]),[D,P]=(0,l.useState)([{id:"1",city:"",hotel:"",rooms:"",roomType:"",nights:""}]),[T,S]=(0,l.useState)([]),[E,R]=(0,l.useState)(!1),z=(0,l.useRef)(null),$=(e,s)=>{m(a=>({...a,[e]:s}))},Z=(e,s,a)=>{k(t=>t.map(t=>t.id===e?{...t,[s]:a}:t))},I=(e,s,a)=>{A(t=>t.map(t=>t.id===e?{...t,[s]:a}:t))},F=(e,s,a)=>{P(t=>t.map(t=>t.id===e?{...t,[s]:a}:t))},_=()=>{var e;null==(e=z.current)||e.click()},O=async()=>{try{R(!0);let e=[];if(T.length>0){console.log("Uploading",T.length,"images to Cloudinary...");let s=new FormData;T.forEach(e=>{s.append("images",e),console.log("Added file to FormData:",e.name,e.size,"bytes")});let a=await fetch("/api/upload",{method:"POST",body:s});if(console.log("Upload response status:",a.status),a.ok){let s=await a.json();console.log("Upload result:",s),e=s.data||[],console.log("Successfully uploaded images:",e.length)}else{let e=await a.json();throw console.error("Upload failed:",e),Error("Failed to upload images: ".concat(e.error))}}else console.log("No images to upload");if(console.log("Form data before validation:",d),console.log("Itinerary before validation:",x),!d.title||!d.subtitle||!d.about||!d.tourDetails||!d.price||!d.duration||!d.location||!d.capacity){console.log("Validation failed: Missing required fields"),alert("Please fill in all required fields");return}let s=parseFloat(d.price);if(isNaN(s)||s<=0){console.log("Validation failed: Invalid price"),alert("Please enter a valid price");return}let a={...d,price:s,itinerary:x.map(e=>({day:e.day,title:e.title,description:e.description})),transportation:C.map(e=>({type:e.type,vehicle:e.vehicle,description:e.description})),accommodation:D.map(e=>({city:e.city,hotel:e.hotel,rooms:e.rooms,roomType:e.roomType,nights:e.nights})),images:e.filter(e=>e.url&&e.public_id),bookings:0,rating:0};console.log("Final package data being sent:",JSON.stringify(a,null,2)),c(a),W()}catch(e){console.error("Error creating package:",e),alert("Error creating package. Please try again.")}finally{R(!1)}},W=()=>{m({title:"",subtitle:"",about:"",tourDetails:"",price:"",duration:"",location:"",capacity:""}),k([{id:"1",day:1,title:"",description:""}]),A([{id:"1",type:"",vehicle:"",description:""}]),P([{id:"1",city:"",hotel:"",rooms:"",roomType:"",nights:""}]),S([]),a()};return(0,t.jsx)(o,{open:s,onOpenChange:W,children:(0,t.jsxs)(h,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(p,{children:[(0,t.jsx)(g,{className:"text-2xl font-bold",children:"Create New Package"}),(0,t.jsx)(j,{children:"Fill in the details below to create a new tour package. You can upload up to 5 images and add multiple itinerary days."})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Package Title"}),(0,t.jsx)(f.p,{placeholder:"e.g., Nepal 3-Star Tour for 4 Nights / 5 Days",value:d.title,onChange:e=>$("title",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Package Subtitle"}),(0,t.jsx)(f.p,{placeholder:"e.g., Nepal 4N/5D 4 Adult",value:d.subtitle,onChange:e=>$("subtitle",e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Duration"}),(0,t.jsx)(f.p,{placeholder:"e.g., 4N/5D",value:d.duration,onChange:e=>$("duration",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Location"}),(0,t.jsx)(f.p,{placeholder:"e.g., Nepal",value:d.location,onChange:e=>$("location",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Capacity"}),(0,t.jsx)(f.p,{placeholder:"e.g., 4 Adults",value:d.capacity,onChange:e=>$("capacity",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"About JJ & TIA Tours and Travels"}),(0,t.jsx)(v.T,{placeholder:"Write about your company and this package...",value:d.about,onChange:e=>$("about",e.target.value),rows:4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Tour Details"}),(0,t.jsx)(v.T,{placeholder:"Provide detailed information about the tour...",value:d.tourDetails,onChange:e=>$("tourDetails",e.target.value),rows:4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Price (₹)"}),(0,t.jsx)(f.p,{type:"number",placeholder:"29999",value:d.price,onChange:e=>$("price",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Package Images"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Max 5 images"})]}),(0,t.jsx)("input",{ref:z,type:"file",multiple:!0,accept:"image/*",onChange:e=>{let s=e.target.files;if(s){let e=Array.from(s).slice(0,5-T.length);S(s=>[...s,...e])}},className:"hidden"}),T.length<5&&(0,t.jsx)(r.$,{type:"button",variant:"outline",onClick:_,className:"w-full h-32 border-2 border-dashed border-gray-300 hover:border-gray-400",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,t.jsx)(y.A,{className:"h-8 w-8 text-gray-400"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Upload Images"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Click to browse or drag and drop"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG up to 10MB each"})]})]})}),T.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:T.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden border-2 border-gray-200",children:(0,t.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview ".concat(s+1),className:"w-full h-full object-cover"})}),(0,t.jsx)(r.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>{S(e=>e.filter((e,a)=>a!==s))},className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(n.A,{className:"h-3 w-3"})}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[(e.size/1024/1024).toFixed(1)," MB"]})]})]},s))}),T.length>0&&T.length<5&&(0,t.jsxs)(r.$,{type:"button",variant:"outline",size:"sm",onClick:_,className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Add More Images (",T.length,"/5)"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Itinerary"}),(0,t.jsxs)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=x.length+1;k(s=>[...s,{id:Date.now().toString(),day:e,title:"",description:""}])},className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Add Day"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i.ZB,{className:"text-lg flex items-center gap-2",children:(0,t.jsxs)(N.E,{variant:"secondary",children:["Day ",e.day]})}),x.length>1&&(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void(x.length>1&&k(e=>e.filter(e=>e.id!==s).map((e,s)=>({...e,day:s+1}))))},className:"text-red-500 hover:text-red-700",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium",children:["Day ",e.day," Title"]}),(0,t.jsx)(f.p,{placeholder:"Day ".concat(e.day," title..."),value:e.title,onChange:s=>Z(e.id,"title",s.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium",children:["Day ",e.day," Description"]}),(0,t.jsx)(v.T,{placeholder:"Describe the activities for day ".concat(e.day,"..."),value:e.description,onChange:s=>Z(e.id,"description",s.target.value),rows:3})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Transportation"}),(0,t.jsxs)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=Date.now().toString();A(s=>[...s,{id:e,type:"",vehicle:"",description:""}])},className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Add Transportation"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i.ZB,{className:"text-lg",children:"Transportation Details"}),C.length>1&&(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void(C.length>1&&A(e=>e.filter(e=>e.id!==s)))},className:"text-red-500 hover:text-red-700",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Type"}),(0,t.jsx)(f.p,{placeholder:"e.g., In Bhutan, Transfers",value:e.type,onChange:s=>I(e.id,"type",s.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Vehicle"}),(0,t.jsx)(f.p,{placeholder:"e.g., Ertiga, Swift Desire",value:e.vehicle,onChange:s=>I(e.id,"vehicle",s.target.value)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,t.jsx)(v.T,{placeholder:"e.g., transfers from Airport/Station",value:e.description,onChange:s=>I(e.id,"description",s.target.value),rows:2})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Accommodation"}),(0,t.jsxs)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=Date.now().toString();P(s=>[...s,{id:e,city:"",hotel:"",rooms:"",roomType:"",nights:""}])},className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Add Accommodation"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:D.map(e=>(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i.ZB,{className:"text-lg",children:"Accommodation Details"}),D.length>1&&(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void(D.length>1&&P(e=>e.filter(e=>e.id!==s)))},className:"text-red-500 hover:text-red-700",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"City"}),(0,t.jsx)(f.p,{placeholder:"e.g., Thimphu, Paro",value:e.city,onChange:s=>F(e.id,"city",s.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Hotel/Resort"}),(0,t.jsx)(f.p,{placeholder:"e.g., Hotel Park or Similar",value:e.hotel,onChange:s=>F(e.id,"hotel",s.target.value)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Rooms"}),(0,t.jsx)(f.p,{placeholder:"e.g., 2 Rooms",value:e.rooms,onChange:s=>F(e.id,"rooms",s.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Room Type"}),(0,t.jsx)(f.p,{placeholder:"e.g., Double Sharing",value:e.roomType,onChange:s=>F(e.id,"roomType",s.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Nights"}),(0,t.jsx)(f.p,{placeholder:"e.g., 01, 02",value:e.nights,onChange:s=>F(e.id,"nights",s.target.value)})]})]})]})]},e.id))})]})]}),(0,t.jsxs)(u,{className:"flex gap-2",children:[(0,t.jsx)(r.$,{variant:"outline",onClick:W,disabled:E,children:"Cancel"}),(0,t.jsx)(r.$,{onClick:O,className:"bg-blue-600 hover:bg-blue-700",disabled:E,children:E?"Creating...":"Create Package"})]})]})})};var C=a(6485),A=a(1873),D=a(1169),P=a(9347),T=a(6617);let S=e=>{let{isOpen:s,onClose:a,packageData:l}=e;return l?(0,t.jsx)(o,{open:s,onOpenChange:a,children:(0,t.jsxs)(h,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(p,{children:[(0,t.jsx)(g,{className:"text-2xl font-bold",children:l.title}),(0,t.jsx)(j,{children:l.subtitle})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[l.images&&l.images.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"aspect-video rounded-lg overflow-hidden border-2 border-gray-200 shadow-lg",children:(0,t.jsx)("img",{src:l.images[0].url,alt:l.images[0].alt||l.title,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[l.images.length," ",1===l.images.length?"Image":"Images"]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Duration"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:l.duration})]})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Location"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:l.location})]})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(D.A,{className:"h-5 w-5 text-purple-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Capacity"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:l.capacity})]})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(P.A,{className:"h-5 w-5 text-yellow-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Price"}),(0,t.jsxs)("p",{className:"text-lg font-bold",children:["₹",l.price]})]})]})})})]}),l.images&&l.images.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["Package Images (",l.images.length,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.images.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"aspect-video rounded-lg overflow-hidden border-2 border-gray-200 shadow-md hover:shadow-lg transition-shadow",children:(0,t.jsx)("img",{src:e.url,alt:e.alt||"Package image ".concat(s+1),className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.alt||"Image ".concat(s+1)})})]},s))})]}),(!l.images||0===l.images.length)&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Package Images"}),(0,t.jsx)("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-gray-300 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(T.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No images available for this package"})]})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"About"}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:l.about})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Our Services"}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:l.services})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Tour Details"}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:l.tourDetails})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Itinerary"}),(0,t.jsx)("div",{className:"space-y-4",children:l.itinerary.map((e,s)=>(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsxs)(N.E,{variant:"secondary",children:["Day ",e.day]}),e.title]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.description})})]},s))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4 text-center",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(T.A,{className:"h-5 w-5 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Bookings"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:l.bookings})]})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4 text-center",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(P.A,{className:"h-5 w-5 text-yellow-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Rating"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:l.rating||0})]})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-4 text-center",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Created"}),(0,t.jsx)("p",{className:"text-sm font-bold",children:new Date(l.createdAt).toLocaleDateString()})]})]})})})]})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsx)(r.$,{onClick:a,variant:"outline",children:"Close"})})]})}):null},E=e=>{let{isOpen:s,onClose:a,packageData:c,onPackageUpdated:d}=e,[m,x]=(0,l.useState)({title:"",subtitle:"",about:"",services:"",tourDetails:"",price:"",duration:"",location:"",capacity:""}),[y,k]=(0,l.useState)([]),[C,A]=(0,l.useState)([]),[D,P]=(0,l.useState)([]),[T,S]=(0,l.useState)(!1),E=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(c){var e,s;x({title:c.title||"",subtitle:c.subtitle||"",about:c.about||"",services:c.services||"",tourDetails:c.tourDetails||"",price:(null==(e=c.price)?void 0:e.toString())||"",duration:c.duration||"",location:c.location||"",capacity:c.capacity||""}),k((null==(s=c.itinerary)?void 0:s.map((e,s)=>({id:"existing_".concat(s),day:e.day,title:e.title,description:e.description})))||[{id:"1",day:1,title:"",description:""}]),A(c.images||[]),P([])}},[c]);let R=(e,s)=>{x(a=>({...a,[e]:s}))},z=(e,s,a)=>{k(t=>t.map(t=>t.id===e?{...t,[s]:a}:t))},$=async()=>{try{S(!0);let e=[];if(D.length>0){console.log("Uploading",D.length,"new images to Cloudinary...");let s=new FormData;D.forEach(e=>{s.append("images",e)});let a=await fetch("/api/upload",{method:"POST",body:s});if(a.ok)e=(await a.json()).data||[];else throw Error("Failed to upload new images")}if(!m.title||!m.subtitle||!m.about||!m.services||!m.tourDetails||!m.price||!m.duration||!m.location||!m.capacity)return void alert("Please fill in all required fields");let s=parseFloat(m.price);if(isNaN(s)||s<=0)return void alert("Please enter a valid price");let a={...m,price:s,itinerary:y.map(e=>({day:e.day,title:e.title,description:e.description})),images:[...C,...e],bookings:(null==c?void 0:c.bookings)||0,rating:(null==c?void 0:c.rating)||0},t=await fetch("/api/packages/".concat(null==c?void 0:c._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(t.ok){let e=await t.json();d(e.data),Z(),alert("Package updated successfully!")}else{let e=await t.json();throw Error(e.error||"Failed to update package")}}catch(e){console.error("Error updating package:",e),alert("Error updating package: ".concat(e.message))}finally{S(!1)}},Z=()=>{x({title:"",subtitle:"",about:"",services:"",tourDetails:"",price:"",duration:"",location:"",capacity:""}),k([{id:"1",day:1,title:"",description:""}]),A([]),P([]),a()};return c?(0,t.jsx)(o,{open:s,onOpenChange:Z,children:(0,t.jsxs)(h,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(p,{children:[(0,t.jsx)(g,{className:"text-2xl font-bold",children:"Edit Package"}),(0,t.jsxs)(j,{children:['Update the details for "',c.title,'"']})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Package Title"}),(0,t.jsx)(f.p,{placeholder:"e.g., Nepal 3-Star Tour for 4 Nights / 5 Days",value:m.title,onChange:e=>R("title",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Package Subtitle"}),(0,t.jsx)(f.p,{placeholder:"e.g., Nepal 4N/5D 4 Adult",value:m.subtitle,onChange:e=>R("subtitle",e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Duration"}),(0,t.jsx)(f.p,{placeholder:"e.g., 4N/5D",value:m.duration,onChange:e=>R("duration",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Location"}),(0,t.jsx)(f.p,{placeholder:"e.g., Nepal",value:m.location,onChange:e=>R("location",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Capacity"}),(0,t.jsx)(f.p,{placeholder:"e.g., 4 Adults",value:m.capacity,onChange:e=>R("capacity",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"About JJ & TIA Tours and Travels"}),(0,t.jsx)(v.T,{placeholder:"Write about your company and this package...",value:m.about,onChange:e=>R("about",e.target.value),rows:4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Our Services"}),(0,t.jsx)(v.T,{placeholder:"List the services included in this package...",value:m.services,onChange:e=>R("services",e.target.value),rows:4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Tour Details"}),(0,t.jsx)(v.T,{placeholder:"Provide detailed information about the tour...",value:m.tourDetails,onChange:e=>R("tourDetails",e.target.value),rows:4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Price (₹)"}),(0,t.jsx)(f.p,{type:"number",placeholder:"29999",value:m.price,onChange:e=>R("price",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Package Images"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Max 5 images total"})]}),(0,t.jsx)("input",{ref:E,type:"file",multiple:!0,accept:"image/*",onChange:e=>{let s=e.target.files;if(s){let e=Array.from(s).slice(0,5-(C.length+D.length));P(s=>[...s,...e])}},className:"hidden"}),C.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Current Images"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:C.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden border-2 border-gray-200",children:(0,t.jsx)("img",{src:e.url,alt:e.alt||"Existing image ".concat(s+1),className:"w-full h-full object-cover"})}),(0,t.jsx)(r.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>{A(e=>e.filter((e,a)=>a!==s))},className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(n.A,{className:"h-3 w-3"})})]},"existing_".concat(s)))})]}),D.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"New Images"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:D.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden border-2 border-gray-200",children:(0,t.jsx)("img",{src:URL.createObjectURL(e),alt:"New image ".concat(s+1),className:"w-full h-full object-cover"})}),(0,t.jsx)(r.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>{P(e=>e.filter((e,a)=>a!==s))},className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(n.A,{className:"h-3 w-3"})}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[(e.size/1024/1024).toFixed(1)," MB"]})]})]},"new_".concat(s)))})]}),C.length+D.length<5&&(0,t.jsxs)(r.$,{type:"button",variant:"outline",onClick:()=>{var e;null==(e=E.current)||e.click()},className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Add More Images (",C.length+D.length,"/5)"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Itinerary"}),(0,t.jsxs)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=y.length+1;k(s=>[...s,{id:Date.now().toString(),day:e,title:"",description:""}])},className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Add Day"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i.ZB,{className:"text-lg flex items-center gap-2",children:(0,t.jsxs)(N.E,{variant:"secondary",children:["Day ",e.day]})}),y.length>1&&(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void(y.length>1&&k(e=>e.filter(e=>e.id!==s).map((e,s)=>({...e,day:s+1}))))},className:"text-red-500 hover:text-red-700",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium",children:["Day ",e.day," Title"]}),(0,t.jsx)(f.p,{placeholder:"Day ".concat(e.day," title..."),value:e.title,onChange:s=>z(e.id,"title",s.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium",children:["Day ",e.day," Description"]}),(0,t.jsx)(v.T,{placeholder:"Describe the activities for day ".concat(e.day,"..."),value:e.description,onChange:s=>z(e.id,"description",s.target.value),rows:3})]})]})]},e.id))})]})]}),(0,t.jsxs)(u,{className:"flex gap-2",children:[(0,t.jsx)(r.$,{variant:"outline",onClick:Z,disabled:T,children:"Cancel"}),(0,t.jsx)(r.$,{onClick:$,className:"bg-blue-600 hover:bg-blue-700",disabled:T,children:T?"Updating...":"Update Package"})]})]})}):null};var R=a(3581),z=a(6651),$=a(9867),Z=a(7828),I=a(1010),F=a(1360);function _(){let[e,s]=(0,l.useState)(!1),[a,c]=(0,l.useState)(!1),[n,d]=(0,l.useState)(!1),[o,m]=(0,l.useState)(null),[x,h]=(0,l.useState)([]),[p,u]=(0,l.useState)(!0),g=async()=>{try{let e=await fetch("/api/packages"),s=await e.json();s.success&&h(s.data)}catch(e){console.error("Error fetching packages:",e)}finally{u(!1)}};(0,l.useEffect)(()=>{g()},[]);let j=async e=>{try{console.log("Sending package data to API:",JSON.stringify(e,null,2));let s=await fetch("/api/packages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});console.log("API response status:",s.status);let a=await s.json();console.log("API response data:",a),a.success?(h(e=>[a.data,...e]),alert("Package created successfully!")):alert("Error creating package: ".concat(a.error))}catch(e){console.error("Error creating package:",e),alert("Error creating package. Please try again.")}},f=()=>{s(!0)},v=async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.title,'"? This action cannot be undone.')))try{let s=await fetch("/api/packages/".concat(e._id),{method:"DELETE"});if(s.ok)h(s=>s.filter(s=>s._id!==e._id)),alert("Package deleted successfully!");else{let e=await s.json();throw Error(e.error||"Failed to delete package")}}catch(e){console.error("Error deleting package:",e),alert("Error deleting package: ".concat(e.message))}};return p?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading packages..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white border-b",children:(0,t.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your tour packages"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)(r.$,{size:"sm",onClick:f,children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"New Package"]})})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ZB,{children:"Your Packages"}),(0,t.jsx)(i.BT,{children:"Manage and track all your tour packages"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(r.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Filter"]}),(0,t.jsxs)(r.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Search"]}),(0,t.jsxs)(r.$,{variant:"outline",size:"sm",children:[(0,t.jsx)($.A,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left p-3",children:"Package Title"}),(0,t.jsx)("th",{className:"text-left p-3",children:"Duration"}),(0,t.jsx)("th",{className:"text-left p-3",children:"Location"}),(0,t.jsx)("th",{className:"text-left p-3",children:"Capacity"}),(0,t.jsx)("th",{className:"text-left p-3",children:"Price"}),(0,t.jsx)("th",{className:"text-left p-3",children:"Rating"}),(0,t.jsx)("th",{className:"text-left p-3",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:x.length>0?x.map(e=>(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[e.images&&e.images.length>0?(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg overflow-hidden border-2 border-gray-200",children:(0,t.jsx)("img",{src:e.images[0].url,alt:e.title,className:"w-full h-full object-cover"})}):(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg border-2 border-gray-200 flex items-center justify-center bg-gray-100",children:(0,t.jsx)(T.A,{className:"h-6 w-6 text-gray-400"})}),(0,t.jsx)("span",{className:"font-medium",children:e.title})]})}),(0,t.jsx)("td",{className:"p-3",children:e.duration||"N/A"}),(0,t.jsx)("td",{className:"p-3",children:e.location||"N/A"}),(0,t.jsx)("td",{className:"p-3",children:e.capacity||"N/A"}),(0,t.jsxs)("td",{className:"p-3 font-medium",children:["₹",e.price]}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(P.A,{className:"h-4 w-4 text-yellow-500 fill-current mr-1"}),e.rating||0]})}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>{m(e),c(!0)},title:"View Package",children:(0,t.jsx)(Z.A,{className:"h-4 w-4"})}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>{m(e),d(!0)},title:"Edit Package",children:(0,t.jsx)(I.A,{className:"h-4 w-4"})}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>v(e),title:"Delete Package",className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:(0,t.jsx)(F.A,{className:"h-4 w-4"})})]})})]},e._id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,t.jsx)(T.A,{className:"h-12 w-12 text-gray-300"}),(0,t.jsx)("p",{children:"No packages created yet"}),(0,t.jsxs)(r.$,{onClick:f,size:"sm",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Create Your First Package"]})]})})})})]})})})]})}),(0,t.jsx)(k,{isOpen:e,onClose:()=>s(!1),onPackageCreated:j}),(0,t.jsx)(S,{isOpen:a,onClose:()=>{c(!1),m(null)},packageData:o}),(0,t.jsx)(E,{isOpen:n,onClose:()=>{d(!1),m(null)},packageData:o,onPackageUpdated:e=>{h(s=>s.map(s=>s._id===e._id?e:s)),m(null),d(!1)}})]})}}},e=>{e.O(0,[545,148,233,441,255,358],()=>e(e.s=5946)),_N_E=e.O()}]);